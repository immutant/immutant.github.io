<!DOCTYPE html>
<html>
  <head>
    <title>
      Immutant | The Deuce - Plans for Immutant 2
    </title>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link href="/stylesheets/styles.css" rel="stylesheet" type="text/css">
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
    <link href="/news.atom" rel="alternate" type="application/atom+xml">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/dateformat.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">
            <img id="logo" src="/images/logos/logo-horizontal-centered.png">
          </a>
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="nav-collapse">
            <ul class="nav">
              <li>
                <a href="/news/">News</a>
              </li>
              <li>
                <a href="/documentation/">Documentation</a>
              </li>
              <li>
                <a href="/community/">Community</a>
              </li>
              <li>
                <a href="/development/">Development</a>
              </li>
              <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                  Quick Links
                  <b class="caret"></b>
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a href="/documentation/current/apidoc/">2.x API Docs & Guides</a>
                  </li>
                  <li>
                    <a href="/builds/2x/">2.x Incremental Builds</a>
                  </li>
                  <li class="divider"></li>
                  <li>
                    <a href="/documentation/1.1.4/" rel="nofollow">1.x Manual</a>
                  </li>
                  <li>
                    <a href="/documentation/1.1.4/apidoc/" rel="nofollow">1.x API Docs</a>
                  </li>
                  <li>
                    <a href="/tutorials-1x/" rel="nofollow">1.x Tutorials</a>
                  </li>
                  <li>
                    <a href="/builds/" rel="nofollow">1.x Incremental Builds</a>
                  </li>
                  <li class="divider"></li>
                  <li>
                    <a href="/releases/">All Versioned Releases</a>
                  </li>
                  <li>
                    <a href="https://issues.jboss.org/browse/IMMUTANT">Issues</a>
                  </li>
                  <li>
                    <a href="http://webchat.freenode.net/?channels=immutant">#immutant on IRC</a>
                  </li>
                  <li>
                    <a href="https://github.com/immutant/immutant">Source</a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div id="wrapper">
      <div class="container" id="main-content">
        <div class="page-header">
          <h1>
            The Deuce - Plans for Immutant 2
          </h1>
        </div>
        <div class="row">
          <div class="span8" id="main-column">
            <div class="post article">
              <div class="byline">
                <div class="author">
                  The Immutant Team
                </div>
                <div class="date">
                  Wednesday, April  2, 2014
                </div>
              </div>
              <div class="tags">
                <a href="/news/tags/thedeuce/">thedeuce</a>
                <a href="/news/tags/torquebox/">torquebox</a>
              </div>
              <div class="body">
                <p>We haven&#39;t blogged about anything in a few months because we&#39;ve been
                thinking about how we&#39;d like to improve Immutant. We&#39;ve come up with a
                couple of high-level goals:</p>
                
                <ul>
                <li>Fully-functional libraries; no container required</li>
                <li>Applications using those libraries should be optionally deployable
                to a stock <a href="http://wildfly.org/">WildFly</a> or <a href="https://www.jboss.org/products/eap">EAP</a> container</li>
                </ul>
                
                <p>One goal we don&#39;t have is API compatibility with Immutant 1.x.</p>
                
                <h2 id="Just_Libraries" onclick="window.location = '#Just_Libraries'">Just Libraries</h2>
                
                <p>For its second major release, Immutant will simply be a collection of
                libraries, one for each of the commodity services currently available
                to applications using an Immutant 1.x container: web, scheduling,
                messaging, caching, and transactions. These services will be provided
                by the following underlying components: <a href="http://undertow.io/">Undertow</a>, <a href="http://quartz-scheduler.org/">Quartz</a>,
                <a href="http://www.jboss.org/hornetq">HornetQ</a>, <a href="http://infinispan.org/">Infinispan</a>, and <a href="http://www.jboss.org/narayana">Narayana</a>, respectively. All but Quartz
                are the same as those used in WildFly 8.</p>
                
                <p>So when you embed any Immutant 2.x library in your app, it will not
                require a &quot;container&quot; to be fully-functional. There is no required
                &quot;installation&quot; step. There is no required &quot;deployment&quot; step.</p>
                
                <p>Just libraries.</p>
                
                <h2 id="Just_WildFly/EAP" onclick="window.location = '#Just_WildFly/EAP'">Just WildFly/EAP</h2>
                
                <p>Fully-functional libraries are great, but there are still good reasons
                to deploy an app to a container, e.g. security, monitoring,
                clustering, etc. We want developers to be able to run the exact same
                application either outside or inside an app server. When outside, all
                functions in the Immutant namespaces will work as expected. But
                inside, you get more, automatically, without any changes to your code:</p>
                
                <ul>
                <li>Web session replication</li>
                <li>Load-balanced message distribution</li>
                <li>Highly-available &quot;singleton&quot; scheduled jobs</li>
                <li>Flexible Infinispan cache replication</li>
                <li>Multiple polyglot app deployments</li>
                </ul>
                
                <p>Immutant 1.x consists of modules and subsystems repackaged on top of a
                now-quite-old, forked <a href="http://www.jboss.org/jbossas">AS7</a> distribution. AS7 is no longer under
                active development. All of the innovation is occurring in
                <a href="http://wildfly.org/">WildFly</a>, and it became increasingly difficult to cherry-pick
                relevant changes into our fork.</p>
                
                <p>So we&#39;re going to eliminate that headache in 2.x. Immutant
                applications will be deployable into stock, vanilla WildFly/EAP
                servers. No modules or subsystems or special deployment descriptors
                required. Just a jar file with a little code to setup the classpath
                and engage the container&#39;s services.</p>
                
                <p>This means no more using Leiningen to resolve dependencies at
                deployment, which has been a source of bugs from the more
                <em>adventurous</em> <code>project.clj</code> files.</p>
                
                <p>This also obviates <a href="https://github.com/immutant/overlay">overlay</a>, another source of bugs. <a href="http://torquebox.org/">TorqueBox</a> 4.x
                apps will work like Immutant 2.x, simple jar files deployed to stock
                WildFly/EAP installations, achieving the same features available from
                <a href="https://github.com/immutant/overlay">overlay</a> today, without the brittle complexity.</p>
                
                <h2 id="Same_Features,_Less_Hassle" onclick="window.location = '#Same_Features,_Less_Hassle'">Same Features, Less Hassle</h2>
                
                <p>Development is occurring on our <a href="https://github.com/immutant/immutant/tree/thedeuce">thedeuce</a> branch right now, but we&#39;ll
                merge it to master once we cut a 1.1.1 release. And we&#39;re publishing
                incremental releases
                <a href="http://repository-projectodd.forge.cloudbees.com/incremental/">here</a>.
                We&#39;ll include more detailed instructions on how to try them in a
                future post. We currently have basic ring and scheduling support
                implemented, with both working standalone and inside a WildFly
                container. We hope to cut our first 2.x release this summer.</p>
                
                <p>Immutant was inspired by its sister project, TorqueBox, under active
                development for almost 6 years now. Embracing Clojure&#39;s REPL, we
                strove to make Immutant&#39;s libraries more dynamic than TorqueBox. This
                caused the API&#39;s in each project to diverge somewhat, even though we
                have a number of community members who use both together via
                messaging, caching, etc.</p>
                
                <p>So Immutant 2.x and TorqueBox 4.x represent an opportunity for both
                teams to work together to realign and harden the service API&#39;s, with
                an eye toward supporting other languages and implementations in the
                future. Please join us in either #torquebox or #immutant on
                <a href="http://freenode.net/">freenode</a>, to express your opinions and desires.</p>
              </div>
              <div class="comments">
                
                            <div id="disqus_thread"></div>
                            <script type="text/javascript">
                            var disqus_shortname = 'immutant';
                            var disqus_url = "/news/2014/04/02/the-deuce/";
                            var disqus_developer = null;
                            var disqus_identifier = null;
                            (function() {
                              var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
                              dsq.src = "http://immutant.disqus.com/embed.js";
                              (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
                            })();
                            </script>
                            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=immutant">comments powered by Disqus.</a></noscript>
              </div>
            </div>
          </div>
          <div class="span4" id="sidebar-column">
            <div class="post-navigation">
              <div class="previous">
                Previous:
                <a href="/news/2014/02/04/announcing-1-1-0/">Immutant 1.1.0 Released</a>
              </div>
              <div class="next">
                Next:
                <a href="/news/2014/04/08/lein-immutant-1-2-1/">lein-immutant Plugin 1.2.1 Released</a>
              </div>
            </div>
            <hr>
            <div class="tags">
              <div class="tag-cloud">
                <span class="tag tag-0">
                  <a href="/news/tags/announcement/">announcement</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/app-server/">app-server</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/bears/">bears</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/beginning/">beginning</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/boot/">boot</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/boot-immutant/">boot-immutant</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/caching/">caching</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/clustering/">clustering</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/daemons/">daemons</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/datomic/">datomic</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/deploy/">deploy</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/distribution/">distribution</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/enterprise/">enterprise</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/event/">event</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/first/">first</a>
                </span>
                <span class="tag tag-2">
                  <a href="/news/tags/getting-started/">getting-started</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/hotrod/">hotrod</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/infinispan/">infinispan</a>
                </span>
                <span class="tag tag-2">
                  <a href="/news/tags/installation/">installation</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/isolation/">isolation</a>
                </span>
                <span class="tag tag-2">
                  <a href="/news/tags/lein/">lein</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/lein-immutant/">lein-immutant</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/luminus/">luminus</a>
                </span>
                <span class="tag tag-2">
                  <a href="/news/tags/messaging/">messaging</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/openshift/">openshift</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/overlay/">overlay</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/pipelines/">pipelines</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/polyglot/">polyglot</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/poorsmatic/">poorsmatic</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/postgresql/">postgresql</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/presentations/">presentations</a>
                </span>
                <span class="tag tag-6">
                  <a href="/news/tags/releases/">releases</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/ring/">ring</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/runtime/">runtime</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/scheduled-jobs/">scheduled-jobs</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/scheduling/">scheduling</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/screencast/">screencast</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/slim/">slim</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/sockjs/">sockjs</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/survey/">survey</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/thedeuce/">thedeuce</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/torquebox/">torquebox</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/transactions/">transactions</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/transit/">transit</a>
                </span>
                <span class="tag tag-2">
                  <a href="/news/tags/tutorial/">tutorial</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/under-the-hood/">under-the-hood</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/vertx/">vertx</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/web/">web</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/websockets/">websockets</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/wildfly/">wildfly</a>
                </span>
                <span class="tag tag-1">
                  <a href="/news/tags/wtf/">wtf</a>
                </span>
                <span class="tag tag-0">
                  <a href="/news/tags/xa/">xa</a>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="footer-push"></div>
    </div>
    <div id="footer">
      <div class="container">
        <div class="row" id="bottom-nav">
          <div class="span8">
            <div id="legal">
              <p>The Immutant project is a member of the <a href="http://jboss.org/">JBoss
              Community</a> and produced by the
              <a href="http://projectodd.org/">Project:odd</a> team.  It is a
              community-driven open-source project, and is licensed under
              the <a href="/license-lgpl.txt">GNU LGPL</a> or <a href="/license-asl.txt">Apache Software
              License</a>, depending on the version.</p>
              
              <p>Copyright 2011 - 2017 <a href="http://redhat.com/">Red Hat, Inc.</a>
              Immutant&trade; is a trademark of Red Hat, Inc.</p>
              
              <p>Content licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.</p>
            </div>
          </div>
          <div class="span4">
            <div id="badges">
              <a href="http://jboss.org/"><img id="jbosscommunity-logo" src="http://torquebox.org/images/jbosscommunity-logo.png"></a>
              <a href="http://projectodd.org/"><img id="projectodd-logo" src="http://projectodd.org/images/projectodd-logo.png"></a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="/javascripts/bootstrap-collapse.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap-dropdown.js" type="text/javascript"></script>
    <script src="/javascripts/bootstrap-tab.js" type="text/javascript"></script>
    <script>
      $( function () {
         var syntax_root = "/javascripts/jquery-syntax/"
      
         if (!$.browser.msie && $( '.syntax' ).length) {
           $.getScript( syntax_root + "jquery.syntax.min.js", function () {
             $.syntax( {root: syntax_root,
                       blockLayout: 'plain'} )
           } )
         }
       } )
    </script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-6435340-7', 'auto');
    ga('send', 'pageview');
    </script>
  </body>
</html>
