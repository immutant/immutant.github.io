<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>immutant.util documentation</title><link href="assets/immutant.css" rel="stylesheet" type="text/css"></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Immutant 2.1.6 API documentation</a></h1></div><div class="sidebar" id="namespaces"><div id="guides"><h3><a href="index.html"><span class="inner">Guides</span></a></h3><ul><li class="guide Migration-current"><a href="guide-migration.html"><div class="inner"><span>Migration</span></div></a></li><li class="guide Installation-current"><a href="guide-installation.html"><div class="inner"><span>Installation</span></div></a></li><li class="guide Web-current"><a href="guide-web.html"><div class="inner"><span>Web</span></div></a></li><li class="guide Messaging-current"><a href="guide-messaging.html"><div class="inner"><span>Messaging</span></div></a></li><li class="guide Scheduling-current"><a href="guide-scheduling.html"><div class="inner"><span>Scheduling</span></div></a></li><li class="guide Caching-current"><a href="guide-caching.html"><div class="inner"><span>Caching</span></div></a></li><li class="guide Transactions-current"><a href="guide-transactions.html"><div class="inner"><span>Transactions</span></div></a></li><li class="guide WildFly-current"><a href="guide-wildfly.html"><div class="inner"><span>WildFly</span></div></a></li><li class="guide EAP 6.4.x-current"><a href="guide-EAP.html"><div class="inner"><span>EAP 6.4.x</span></div></a></li><li class="guide Logging-current"><a href="guide-logging.html"><div class="inner"><span>Logging</span></div></a></li></ul></div><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>immutant</span></div></div></li><li class="depth-2"><a href="immutant.caching.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>caching</span></div></a></li><li class="depth-3 branch"><a href="immutant.caching.core-cache.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core-cache</span></div></a></li><li class="depth-3"><a href="immutant.caching.core-memoize.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core-memoize</span></div></a></li><li class="depth-2"><a href="immutant.codecs.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>codecs</span></div></a></li><li class="depth-3"><a href="immutant.codecs.fressian.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fressian</span></div></a></li><li class="depth-2 branch"><a href="immutant.coercions.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>coercions</span></div></a></li><li class="depth-2 branch"><a href="immutant.daemons.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>daemons</span></div></a></li><li class="depth-2"><a href="immutant.messaging.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>messaging</span></div></a></li><li class="depth-3 branch"><a href="immutant.messaging.hornetq.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hornetq</span></div></a></li><li class="depth-3"><a href="immutant.messaging.pipeline.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pipeline</span></div></a></li><li class="depth-2"><a href="immutant.scheduling.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>scheduling</span></div></a></li><li class="depth-3 branch"><a href="immutant.scheduling.joda.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>joda</span></div></a></li><li class="depth-3"><a href="immutant.scheduling.quartz.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>quartz</span></div></a></li><li class="depth-2"><a href="immutant.transactions.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>transactions</span></div></a></li><li class="depth-3 branch"><a href="immutant.transactions.jdbc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jdbc</span></div></a></li><li class="depth-3"><a href="immutant.transactions.scope.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scope</span></div></a></li><li class="depth-2 branch current"><a href="immutant.util.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-2"><a href="immutant.web.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>web</span></div></a></li><li class="depth-3 branch"><a href="immutant.web.async.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>async</span></div></a></li><li class="depth-3 branch"><a href="immutant.web.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-3 branch"><a href="immutant.web.sse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sse</span></div></a></li><li class="depth-3 branch"><a href="immutant.web.ssl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ssl</span></div></a></li><li class="depth-3"><a href="immutant.web.undertow.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>undertow</span></div></a></li><li class="depth-2"><a href="immutant.wildfly.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>wildfly</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="immutant.util.html#var-app-name"><div class="inner"><span>app-name</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-app-relative"><div class="inner"><span>app-relative</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-app-root"><div class="inner"><span>app-root</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-at-exit"><div class="inner"><span>at-exit</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-classpath"><div class="inner"><span>classpath</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-context-path"><div class="inner"><span>context-path</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-dev-mode.3F"><div class="inner"><span>dev-mode?</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-http-port"><div class="inner"><span>http-port</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-in-cluster.3F"><div class="inner"><span>in-cluster?</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-in-container.3F"><div class="inner"><span>in-container?</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-in-eap.3F"><div class="inner"><span>in-eap?</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-messaging-remoting-port"><div class="inner"><span>messaging-remoting-port</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-reset"><div class="inner"><span>reset</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-reset-fixture"><div class="inner"><span>reset-fixture</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-set-bean-property"><div class="inner"><span>set-bean-property</span></div></a></li><li class="depth-1"><a href="immutant.util.html#var-set-log-level.21"><div class="inner"><span>set-log-level!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">immutant.util</h2><div class="doc"><div class="markdown"><p>Various utility functions.</p></div></div><div class="public anchor" id="var-app-name"><h3>app-name</h3><div class="usage"><code>(app-name)</code></div><div class="doc"><div class="markdown"><p>Returns the name of the current application.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L71">view source</a></div></div><div class="public anchor" id="var-app-relative"><h3>app-relative</h3><h4 class="deprecated">deprecated in 2.1.3</h4><div class="usage"><code>(app-relative &amp; path)</code></div><div class="doc"><div class="markdown"><p>Returns an absolute file relative to <code><a href="immutant.util.html#var-app-root">app-root</a></code>. DEPRECATED: use clojure.java.io/resource instead.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L108">view source</a></div></div><div class="public anchor" id="var-app-root"><h3>app-root</h3><div class="usage"><code>(app-root)</code></div><div class="doc"><div class="markdown"><p>Returns a file pointing to the root dir of the application. DEPRECATED: use clojure.java.io/resource instead.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L64">view source</a></div></div><div class="public anchor" id="var-at-exit"><h3>at-exit</h3><div class="usage"><code>(at-exit f)</code></div><div class="doc"><div class="markdown"><p>Registers <code>f</code> to be called when the application is either stopped or, if running within a container, undeployed. Used internally to shutdown various services, but can be used by application code as well.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L130">view source</a></div></div><div class="public anchor" id="var-classpath"><h3>classpath</h3><div class="usage"><code>(classpath)</code></div><div class="doc"><div class="markdown"><p>Returns the effective classpath for the application.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L118">view source</a></div></div><div class="public anchor" id="var-context-path"><h3>context-path</h3><div class="usage"><code>(context-path)</code></div><div class="doc"><div class="markdown"><p>Returns the over-arching context-path for the web server.</p><p>Returns the servlet-context&rsquo;s context path in-container, and &quot;&quot; outside.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L88">view source</a></div></div><div class="public anchor" id="var-dev-mode.3F"><h3>dev-mode?</h3><div class="usage"><code>(dev-mode?)</code></div><div class="doc"><div class="markdown"><p>Returns true if the app is running in dev mode.</p><p>This is controlled by the <code>LEIN_NO_DEV</code> environment variable.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L123">view source</a></div></div><div class="public anchor" id="var-http-port"><h3>http-port</h3><div class="usage"><code>(http-port)</code><code>(http-port options)</code></div><div class="doc"><div class="markdown"><p>Returns the HTTP port for the embedded web server.</p><p>Returns the correct port when in-container, and the <code>:port</code> value from options or the default (8080) outside.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L76">view source</a></div></div><div class="public anchor" id="var-in-cluster.3F"><h3>in-cluster?</h3><div class="usage"><code>(in-cluster?)</code></div><div class="doc"><div class="markdown"><p>Returns true if running inside a WildFly/EAP container that&rsquo;s part of a cluster</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L41">view source</a></div></div><div class="public anchor" id="var-in-container.3F"><h3>in-container?</h3><div class="usage"><code>(in-container?)</code></div><div class="doc"><div class="markdown"><p>Returns true if running inside a WildFly/EAP container.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L30">view source</a></div></div><div class="public anchor" id="var-in-eap.3F"><h3>in-eap?</h3><div class="usage"><code>(in-eap?)</code></div><div class="doc"><div class="markdown"><p>Returns true if running inside an EAP container.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L35">view source</a></div></div><div class="public anchor" id="var-messaging-remoting-port"><h3>messaging-remoting-port</h3><div class="usage"><code>(messaging-remoting-port)</code></div><div class="doc"><div class="markdown"><p>Returns the port that HornetQ is listening on for remote connections.</p><p>Returns the correct port when in-container, and the default (5445), outside.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L98">view source</a></div></div><div class="public anchor" id="var-reset"><h3>reset</h3><div class="usage"><code>(reset)</code></div><div class="doc"><div class="markdown"><p>Resets the underlying WunderBoss layer. This stops and clears all services. Intended to be used from a repl or from tests.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L24">view source</a></div></div><div class="public anchor" id="var-reset-fixture"><h3>reset-fixture</h3><div class="usage"><code>(reset-fixture f)</code></div><div class="doc"><div class="markdown"><p>Invokes <code>f</code>, then calls <code><a href="immutant.util.html#var-reset">reset</a></code> if not <code><a href="immutant.util.html#var-in-container.3F">in-container?</a></code>.</p><p>Useful as a test fixture where you want to reset underlying state after a test run, but also run the same tests in-container (via fntest or other), where resetting state will disconnect the repl. In the in-container case, you rely on undeploy to reset the state.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L47">view source</a></div></div><div class="public anchor" id="var-set-bean-property"><h3>set-bean-property</h3><div class="usage"><code>(set-bean-property bean prop value)</code></div><div class="doc"><div class="markdown"><p>Calls a java bean-style setter (.setFooBar) for the given property (<code>:foo-bar</code>) and value.</p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L138">view source</a></div></div><div class="public anchor" id="var-set-log-level.21"><h3>set-log-level!</h3><div class="usage"><code>(set-log-level! level)</code></div><div class="doc"><div class="markdown"><p>Sets the global log level for the interal logging system.</p><p>Valid options for <code>level</code> are: <code>:OFF</code>, <code>:ERROR</code>, <code>:WARN</code>, <code>:INFO</code>, <code>:DEBUG</code>, <code>:TRACE</code>, <code>:ALL</code></p></div></div><div class="src-link"><a href="https://github.com/immutant/immutant/tree/2.1.6/core/src/immutant/util.clj#L147">view source</a></div></div></div></body></html>