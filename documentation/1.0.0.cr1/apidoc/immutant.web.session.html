<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>immutant.web.session documentation</title></head><body><div id="header"><h2><a href="../index.html">Immutant Manual</a></h2><h2><a href="http://immutant.org/">Immutant Home</a></h2><h1><a href="index.html">Immutant 1.0.0.cr1 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="immutant.cache.html"><span>immutant.cache</span></a></li><li><a href="immutant.codecs.html"><span>immutant.codecs</span></a></li><li><a href="immutant.daemons.html"><span>immutant.daemons</span></a></li><li><a href="immutant.dev.html"><span>immutant.dev</span></a></li><li><a href="immutant.jobs.html"><span>immutant.jobs</span></a></li><li><a href="immutant.messaging.html"><span>immutant.messaging</span></a></li><li><a href="immutant.messaging.hornetq.html"><span>immutant.messaging.hornetq</span></a></li><li><a href="immutant.pipeline.html"><span>immutant.pipeline</span></a></li><li><a href="immutant.registry.html"><span>immutant.registry</span></a></li><li><a href="immutant.repl.html"><span>immutant.repl</span></a></li><li><a href="immutant.util.html"><span>immutant.util</span></a></li><li><a href="immutant.web.html"><span>immutant.web</span></a></li><li class="current"><a href="immutant.web.session.html"><span>immutant.web.session</span></a></li><li><a href="immutant.xa.html"><span>immutant.xa</span></a></li><li><a href="immutant.xa.transaction.html"><span>immutant.xa.transaction</span></a></li><li><a href="immutant.xa.wrappers.html"><span>immutant.xa.wrappers</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="immutant.web.session.html#var-servlet-session"><span class="">servlet-session</span></a></li><li><a href="immutant.web.session.html#var-servlet-store"><span class="">servlet-store</span></a></li><li><a href="immutant.web.session.html#var-session-cookie-attributes"><span class="">session-cookie-attributes</span></a></li><li><a href="immutant.web.session.html#var-session-timeout"><span class="">session-timeout</span></a></li><li><a href="immutant.web.session.html#var-set-session-cookie-attributes%21"><span class="">set-session-cookie-attributes!</span></a></li><li><a href="immutant.web.session.html#var-set-session-timeout%21"><span class="">set-session-timeout!</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>immutant.web.session documentation</h2><pre class="doc">Functions for using the cluster-wide servlet store for sessions.
</pre><div class="public " id="var-servlet-session"><h3>servlet-session</h3><div class="usage"><code>(servlet-session)</code></div><pre class="doc">Returns the servlet session for the current request.
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.cr1//modules/web/src/main/clojure/immutant/web/session.clj#L33">Source</a></div></div><div class="public " id="var-servlet-store"><h3>servlet-store</h3><div class="usage"><code>(servlet-store)</code></div><pre class="doc">Instantiates and returns a ServletStore
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.cr1//modules/web/src/main/clojure/immutant/web/session.clj#L60">Source</a></div></div><div class="public " id="var-session-cookie-attributes"><h3>session-cookie-attributes</h3><div class="usage"><code>(session-cookie-attributes)</code></div><pre class="doc">Returns a map of the current session cookie attributes.
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.cr1//modules/web/src/main/clojure/immutant/web/session.clj#L113">Source</a></div></div><div class="public " id="var-session-timeout"><h3>session-timeout</h3><div class="usage"><code>(session-timeout)</code></div><pre class="doc">Returns the current session timeout in minutes.
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.cr1//modules/web/src/main/clojure/immutant/web/session.clj#L73">Source</a></div></div><div class="public " id="var-set-session-cookie-attributes%21"><h3>set-session-cookie-attributes!</h3><div class="usage"><code>(set-session-cookie-attributes! &amp; {:as attrs})</code></div><pre class="doc">Set session cookie attributes. Accepts the following kwargs, many
of which are analagous to the ring session cookie attributes
[default]:

:cookie-name  The name of the cookie [JSESSIONID]
:domain       The domain name where the cookie is valid [nil]
:http-only    Should the cookie be used only for http? [false]
:max-age      The amount of time the cookie should be retained by the
              client, in seconds [-1, meaning 'never expire']
:path         The path where the cookie is valid [the context path]
:secure       Should the cookie be used only for secure connections? [false]

This function can be called multiple times, and will only alter the
attributes passed to it.

These attributes apply to all of the web endpoints deployed within
application, since they all share the same session.</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.cr1//modules/web/src/main/clojure/immutant/web/session.clj#L79">Source</a></div></div><div class="public " id="var-set-session-timeout%21"><h3>set-session-timeout!</h3><div class="usage"><code>(set-session-timeout! minutes)</code></div><pre class="doc">Sets the session timeout (in minutes), overriding the default of 30
minutes. Applies to all of the web endpoints deployed within an
application, since they all share the same session.</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.cr1//modules/web/src/main/clojure/immutant/web/session.clj#L65">Source</a></div></div></div></body></html>