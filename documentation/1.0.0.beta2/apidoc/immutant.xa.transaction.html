<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>immutant.xa.transaction documentation</title></head><body><div id="header"><h2><a href="../index.html">Immutant Manual</a></h2><h2><a href="http://immutant.org/">Immutant Home</a></h2><h1><a href="index.html">Immutant 1.0.0.beta2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="immutant.cache.html"><span>immutant.cache</span></a></li><li><a href="immutant.codecs.html"><span>immutant.codecs</span></a></li><li><a href="immutant.daemons.html"><span>immutant.daemons</span></a></li><li><a href="immutant.dev.html"><span>immutant.dev</span></a></li><li><a href="immutant.jobs.html"><span>immutant.jobs</span></a></li><li><a href="immutant.messaging.html"><span>immutant.messaging</span></a></li><li><a href="immutant.messaging.hornetq.html"><span>immutant.messaging.hornetq</span></a></li><li><a href="immutant.pipeline.html"><span>immutant.pipeline</span></a></li><li><a href="immutant.registry.html"><span>immutant.registry</span></a></li><li><a href="immutant.repl.html"><span>immutant.repl</span></a></li><li><a href="immutant.util.html"><span>immutant.util</span></a></li><li><a href="immutant.web.html"><span>immutant.web</span></a></li><li><a href="immutant.web.session.html"><span>immutant.web.session</span></a></li><li><a href="immutant.xa.html"><span>immutant.xa</span></a></li><li class="current"><a href="immutant.xa.transaction.html"><span>immutant.xa.transaction</span></a></li><li><a href="immutant.xa.wrappers.html"><span>immutant.xa.wrappers</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="immutant.xa.transaction.html#var-active%3F"><span class="">active?</span></a></li><li><a href="immutant.xa.transaction.html#var-after-completion"><span class="">after-completion</span></a></li><li><a href="immutant.xa.transaction.html#var-available%3F"><span class="">available?</span></a></li><li><a href="immutant.xa.transaction.html#var-begin"><span class="">begin</span></a></li><li><a href="immutant.xa.transaction.html#var-current"><span class="">current</span></a></li><li><a href="immutant.xa.transaction.html#var-enlist"><span class="">enlist</span></a></li><li><a href="immutant.xa.transaction.html#var-mandatory"><span class="">mandatory</span></a></li><li><a href="immutant.xa.transaction.html#var-never"><span class="">never</span></a></li><li><a href="immutant.xa.transaction.html#var-not-supported"><span class="">not-supported</span></a></li><li><a href="immutant.xa.transaction.html#var-required"><span class="">required</span></a></li><li><a href="immutant.xa.transaction.html#var-requires-new"><span class="">requires-new</span></a></li><li><a href="immutant.xa.transaction.html#var-set-rollback-only"><span class="">set-rollback-only</span></a></li><li><a href="immutant.xa.transaction.html#var-supports"><span class="">supports</span></a></li><li><a href="immutant.xa.transaction.html#var-suspend"><span class="">suspend</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>immutant.xa.transaction documentation</h2><pre class="doc">Fine-grained XA transactional control
</pre><div class="public " id="var-active%3F"><h3>active?</h3><div class="usage"><code>(active?)</code></div><pre class="doc">Returns true if currently running within a transaction
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L37">Source</a></div></div><div class="public " id="var-after-completion"><h3>after-completion</h3><div class="usage"><code>(after-completion f)</code></div><pre class="doc">Register a callback to fire when the current transaction is complete
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L53">Source</a></div></div><div class="public " id="var-available%3F"><h3>available?</h3><div class="usage"><code>(available?)</code></div><pre class="doc">Returns true if a TransactionManager is available to manage XA transactions
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L27">Source</a></div></div><div class="public " id="var-begin"><h3>begin</h3><div class="usage"><code>(begin func)</code></div><pre class="doc">Begin, invoke func, commit, rollback if error
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L69">Source</a></div></div><div class="public " id="var-current"><h3>current</h3><div class="usage"><code>(current)</code></div><pre class="doc">Return the active transaction
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L32">Source</a></div></div><div class="public " id="var-enlist"><h3>enlist</h3><div class="usage"><code>(enlist &amp; resources)</code></div><pre class="doc">Enlist XA resources in the current transaction
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L47">Source</a></div></div><div class="public " id="var-mandatory"><h3>mandatory</h3><h4 class="type">macro</h4><div class="usage"><code>(mandatory &amp; body)</code></div><pre class="doc">JEE Mandatory - throws an exception unless there's an active transaction
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L124">Source</a></div></div><div class="public " id="var-never"><h3>never</h3><h4 class="type">macro</h4><div class="usage"><code>(never &amp; body)</code></div><pre class="doc">JEE Never - throws an exception if there's an active transaction
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L132">Source</a></div></div><div class="public " id="var-not-supported"><h3>not-supported</h3><h4 class="type">macro</h4><div class="usage"><code>(not-supported &amp; body)</code></div><pre class="doc">JEE NotSupported - suspend current transaction, if any, and run body without a transaction
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L110">Source</a></div></div><div class="public " id="var-required"><h3>required</h3><h4 class="type">macro</h4><div class="usage"><code>(required &amp; body)</code></div><pre class="doc">JEE Required - execute within current transaction, if any, otherwise wrap body in a new one
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L94">Source</a></div></div><div class="public " id="var-requires-new"><h3>requires-new</h3><h4 class="type">macro</h4><div class="usage"><code>(requires-new &amp; body)</code></div><pre class="doc">JEE RequiresNew - suspend current transaction, if any, and wrap body in a new one
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L102">Source</a></div></div><div class="public " id="var-set-rollback-only"><h3>set-rollback-only</h3><div class="usage"><code>(set-rollback-only)</code></div><pre class="doc">Modify the current transaction such that the only possible outcome is a roll back
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L42">Source</a></div></div><div class="public " id="var-supports"><h3>supports</h3><h4 class="type">macro</h4><div class="usage"><code>(supports &amp; body)</code></div><pre class="doc">JEE Supports - run body regardless of current transaction state (unpredictable)
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L118">Source</a></div></div><div class="public " id="var-suspend"><h3>suspend</h3><div class="usage"><code>(suspend func)</code></div><pre class="doc">Suspend, invoke func, resume
</pre><div class="src-link"><a href="https://github.com/immutant/immutant/tree/1.0.0.beta2//modules/xa/src/main/clojure/immutant/xa/transaction.clj#L82">Source</a></div></div></div></body></html>